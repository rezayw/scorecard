<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0F3B2E">
    <meta name="description" content="Ganesha Golf - Track your golf scores across ITB Students">
    <link rel="manifest" href="/static/manifest.json">
    <link rel="apple-touch-icon" href="/static/icons/icon-192.png">
    <title>Ganesha Golf - ITB</title>
    
    <!-- Google Fonts - Bebas Neue -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        golf: {
                            50: '#F3F1EC',
                            100: '#E8E4DA',
                            200: '#F3F1EC',
                            300: '#F3F1EC',
                            400: '#E6C36A',
                            500: '#E6C36A',
                            600: '#C9A84E',
                            700: '#C9A84E',
                            800: '#0F3B2E',
                            900: '#0A241C',
                            950: '#0F3B2E'
                        }
                    },
                    fontFamily: {
                        sans: ['Bebas Neue', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="bg-gray-100 min-h-screen safe-area-top safe-area-bottom">
    <div id="app" class="max-w-lg mx-auto bg-white min-h-screen shadow-xl">
        
        <!-- Landing Page -->
        <section id="landingPage" class="min-h-screen flex flex-col">
            <!-- Hero Section -->
            <div class="bg-gradient-to-br from-golf-950 via-golf-800 to-golf-600 text-white px-6 pt-12 pb-16 relative overflow-hidden">
                <!-- User Account Button -->
                <div class="absolute top-4 right-4 z-20">
                    <button id="accountBtn" onclick="showAuthModal()" class="flex items-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm px-4 py-2 rounded-full transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        <span id="accountBtnText" class="text-sm font-medium">Login</span>
                    </button>
                </div>
                
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-10 left-10 text-8xl"><img src="https://blogger.googleusercontent.com/img/a/AVvXsEjWraAxkRDZ6dtC_5SC87ky1N5BkbWi3NTwSLc4o9O0denQrNB7pN-l8NwOGV9A9-FMpWv7ulseyfE5epbZv8SqBCmK8f3G0KDoEaC33XAf3NNgSXeNju9AMvGW3Lgeu_FqCYvDP7inL_A4UQdLEzmLEjGwu88IhbEMbj_zBgs6nGOSqp8oaREaNnHfeUlr" class="w-20 h-20 opacity-50" alt=""></div>
                    <div class="absolute bottom-10 right-10 text-6xl">üèåÔ∏è</div>
                    <div class="absolute top-1/2 left-1/2 text-4xl">üèÜ</div>
                </div>
                
                <div class="relative z-10 text-center">
                    <div class="inline-flex items-center justify-center w-24 h-24 bg-white/20 rounded-full mb-4 backdrop-blur-sm p-2">
                        <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjWraAxkRDZ6dtC_5SC87ky1N5BkbWi3NTwSLc4o9O0denQrNB7pN-l8NwOGV9A9-FMpWv7ulseyfE5epbZv8SqBCmK8f3G0KDoEaC33XAf3NNgSXeNju9AMvGW3Lgeu_FqCYvDP7inL_A4UQdLEzmLEjGwu88IhbEMbj_zBgs6nGOSqp8oaREaNnHfeUlr" class="w-full h-full object-contain" alt="Ganesha Golf">
                    </div>
                    <h1 class="text-3xl font-bold mb-2">Ganesha Golf</h1>
                    <p class="text-golf-200 text-lg">Unit Ganesha Golf</p>
                    <p class="text-golf-300 text-sm mt-2">Track your golf scores across ITB Students</p>
                </div>
            </div>
            
            <!-- User Welcome Card (shown when logged in) -->
            <div id="userWelcomeCard" class="px-4 -mt-8 relative z-20 hidden">
                <div class="bg-white rounded-2xl shadow-lg p-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 cursor-pointer" onclick="showProfile()">
                            <div id="userAvatarLanding" class="w-12 h-12 bg-gradient-to-br from-golf-400 to-golf-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                U
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Welcome back,</p>
                                <p id="welcomeUserName" class="font-semibold text-gray-800">User</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-2">
                            <button onclick="showProfile()" class="p-2 text-golf-600 hover:bg-golf-50 rounded-full transition" title="My Profile">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </button>
                            <button onclick="handleLogout()" class="p-2 text-red-500 hover:bg-red-50 rounded-full transition" title="Logout">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div id="userQuickStats" class="grid grid-cols-3 gap-2 mt-3 pt-3 border-t border-gray-100 text-center text-xs">
                        <div>
                            <p class="font-bold text-golf-600" id="userTotalRounds">0</p>
                            <p class="text-gray-500">Rounds</p>
                        </div>
                        <div>
                            <p class="font-bold text-golf-600" id="userHandicap">-</p>
                            <p class="text-gray-500">Handicap</p>
                        </div>
                        <div>
                            <p class="font-bold text-golf-600" id="userBestScore">-</p>
                            <p class="text-gray-500">Best</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Stats (hidden when logged in card shows) -->
            <div id="quickStatsCard" class="px-4 -mt-8 relative z-20">
                <div class="bg-white rounded-2xl shadow-lg p-4 grid grid-cols-3 gap-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-golf-600" id="statCourses">-</div>
                        <div class="text-xs text-gray-500">Courses</div>
                    </div>
                    <div class="text-center border-x border-gray-100">
                        <div class="text-2xl font-bold text-golf-600" id="statRegions">-</div>
                        <div class="text-xs text-gray-500">Regions</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-golf-600" id="statGames">0</div>
                        <div class="text-xs text-gray-500">Games Played</div>
                    </div>
                </div>
            </div>
            
            <!-- Features -->
            <div class="px-4 py-6 flex-1">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">Features</h2>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                        <div class="w-10 h-10 bg-golf-100 rounded-full flex items-center justify-center">
                            <span class="text-lg">üìä</span>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-800">Real-time Scoring</h3>
                            <p class="text-xs text-gray-500">Track strokes for up to 10 players</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                            <span class="text-lg">üéØ</span>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-800">Handicap Calculation</h3>
                            <p class="text-xs text-gray-500">USGA-compliant course handicap</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                        <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center">
                            <span class="text-lg">üìÑ</span>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-800">PDF Export</h3>
                            <p class="text-xs text-gray-500">Download or email your scorecard</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="px-4 pb-8 space-y-3">
                <button onclick="showGameSetup()" class="w-full btn-primary text-white py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-2">
                    <span>üèåÔ∏è</span> Start New Game
                </button>
                <div class="grid grid-cols-3 gap-3">
                    <button onclick="showHistory()" class="py-3 bg-gray-100 text-gray-700 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-gray-200 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span class="hidden sm:inline">History</span>
                    </button>
                    <button onclick="showLeaderboard()" class="py-3 bg-yellow-100 text-yellow-700 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-yellow-200 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        <span class="hidden sm:inline">Leaderboard</span>
                    </button>
                    <button onclick="showCourseList()" class="py-3 bg-gray-100 text-gray-700 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-gray-200 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <span class="hidden sm:inline">Courses</span>
                    </button>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="showEvents()" class="py-3 bg-amber-100 text-amber-700 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-amber-200 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <span class="hidden sm:inline">Events</span>
                    </button>
                    <button onclick="showForum()" class="py-3 bg-golf-100 text-golf-700 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-golf-200 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
                        </svg>
                        <span class="hidden sm:inline">Forum</span>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Header (hidden on landing) -->
        <header id="appHeader" class="bg-golf-950 text-white px-4 py-4 sticky top-0 z-50 hidden">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <button onclick="showLanding()" class="p-1 hover:bg-golf-800 rounded-full transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                    </button>
                    <div>
                        <h1 class="text-lg font-bold">Ganesha Golf</h1>
                        <p class="text-xs text-golf-200">Unit Ganesha Golf</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button onclick="showHistory()" class="p-2 hover:bg-golf-800 rounded-full transition" title="History">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </button>
                    <button onclick="resetGame()" class="p-2 hover:bg-golf-800 rounded-full transition" title="Reset">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                        </svg>
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Progress Steps (hidden on landing) -->
        <div class="bg-white px-4 py-3 border-b sticky top-16 z-40 hidden" id="progressBar">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-1 text-xs">
                    <span class="step-indicator w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium bg-gray-200" data-step="1">1</span>
                    <span class="hidden sm:inline text-gray-500">Setup</span>
                </div>
                <div class="flex-1 h-1 bg-gray-200 mx-2 rounded">
                    <div class="h-full bg-golf-500 rounded transition-all duration-300" id="progressFill" style="width: 0%"></div>
                </div>
                <div class="flex items-center gap-1 text-xs">
                    <span class="step-indicator w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium bg-gray-200" data-step="2">2</span>
                    <span class="hidden sm:inline text-gray-500">Play</span>
                </div>
                <div class="flex-1 h-1 bg-gray-200 mx-2 rounded"></div>
                <div class="flex items-center gap-1 text-xs">
                    <span class="step-indicator w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium bg-gray-200" data-step="3">3</span>
                    <span class="hidden sm:inline text-gray-500">Results</span>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <main class="pb-24 hidden" id="mainContent">
            
            <!-- Course List Section -->
            <section id="courseListSection" class="hidden p-4">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800">üèåÔ∏è Golf Courses</h2>
                    <button onclick="showLanding()" class="text-golf-600 text-sm font-medium">Back</button>
                </div>
                <div id="courseListContainer" class="space-y-4">
                    <!-- Dynamic course list -->
                </div>
            </section>
            
            <!-- Profile Section -->
            <section id="profileSection" class="hidden">
                <!-- Profile Header -->
                <div class="bg-gradient-to-br from-golf-600 to-golf-800 text-white px-4 py-6">
                    <div class="flex items-center gap-4">
                        <div id="profileAvatar" class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center text-3xl font-bold border-4 border-white/30">
                            U
                        </div>
                        <div class="flex-1">
                            <h2 id="profileName" class="text-xl font-bold">User Name</h2>
                            <p id="profileEmail" class="text-golf-200 text-sm">user@email.com</p>
                            <p id="profileCity" class="text-golf-300 text-xs mt-1">üìç Indonesia</p>
                        </div>
                        <button onclick="showEditProfileModal()" class="p-2 bg-white/20 hover:bg-white/30 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Profile Stats -->
                <div class="px-4 -mt-4 relative z-10">
                    <div class="bg-white rounded-xl shadow-lg p-4 grid grid-cols-4 gap-2 text-center">
                        <div>
                            <p class="text-xl font-bold text-golf-600" id="profileTotalRounds">0</p>
                            <p class="text-xs text-gray-500">Rounds</p>
                        </div>
                        <div>
                            <p class="text-xl font-bold text-golf-600" id="profileHandicap">-</p>
                            <p class="text-xs text-gray-500">HCP</p>
                        </div>
                        <div>
                            <p class="text-xl font-bold text-golf-600" id="profileBestScore">-</p>
                            <p class="text-xs text-gray-500">Best</p>
                        </div>
                        <div>
                            <p class="text-xl font-bold text-golf-600" id="profileAvgScore">-</p>
                            <p class="text-xs text-gray-500">Avg</p>
                        </div>
                    </div>
                </div>
                
                <!-- Profile Content -->
                <div class="p-4 space-y-4">
                    <!-- Golf Info -->
                    <div class="bg-white rounded-xl card-shadow p-4">
                        <h3 class="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                            <span>üèåÔ∏è</span> Golf Info
                        </h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <span class="text-gray-500 text-sm">Handicap Index</span>
                                <span id="profileHandicapIndex" class="font-medium text-gray-800">Not set</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-500 text-sm">Home Course</span>
                                <span id="profileHomeCourse" class="font-medium text-gray-800 text-right max-w-[60%] truncate">Not set</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-500 text-sm">Courses Played</span>
                                <span id="profileCoursesPlayed" class="font-medium text-gray-800">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bio -->
                    <div class="bg-white rounded-xl card-shadow p-4">
                        <h3 class="font-semibold text-gray-800 mb-2 flex items-center gap-2">
                            <span>üìù</span> About Me
                        </h3>
                        <p id="profileBio" class="text-gray-600 text-sm">No bio yet. Tap edit to add one!</p>
                    </div>
                    
                    <!-- Recent Games -->
                    <div class="bg-white rounded-xl card-shadow p-4">
                        <h3 class="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                            <span>üìä</span> Recent Games
                        </h3>
                        <div id="profileRecentGames" class="space-y-2">
                            <p class="text-gray-500 text-sm text-center py-4">No games played yet</p>
                        </div>
                    </div>
                    
                    <!-- Account Actions -->
                    <div class="bg-white rounded-xl card-shadow p-4 space-y-3">
                        <h3 class="font-semibold text-gray-800 mb-2 flex items-center gap-2">
                            <span>‚öôÔ∏è</span> Account
                        </h3>
                        <button onclick="showChangePasswordModal()" class="w-full flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition">
                            <div class="flex items-center gap-3">
                                <span class="text-gray-500">üîí</span>
                                <span class="text-gray-700">Change Password</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                        <button onclick="handleLogout()" class="w-full flex items-center justify-between p-3 bg-red-50 rounded-xl hover:bg-red-100 transition">
                            <div class="flex items-center gap-3">
                                <span class="text-red-500">üö™</span>
                                <span class="text-red-600">Logout</span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                    
                    <!-- Member Since -->
                    <p id="profileMemberSince" class="text-center text-gray-400 text-xs">Member since 2024</p>
                </div>
            </section>
            
            <!-- Events Section -->
            <section id="eventsSection" class="hidden">
                <!-- Events Header -->
                <div class="bg-gradient-to-r from-amber-600 to-orange-500 text-white px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold">üìÖ Golf Events</h2>
                            <p class="text-amber-100 text-xs">Tournaments, meetups & competitions</p>
                        </div>
                        <button onclick="showCreateEventModal()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                            </svg>
                            Create
                        </button>
                    </div>
                </div>
                
                <!-- Event Category Filter -->
                <div class="px-4 py-3 bg-white border-b overflow-x-auto">
                    <div class="flex gap-2 min-w-max">
                        <button onclick="filterEventCategory('all')" class="event-category-btn active px-4 py-2 rounded-full text-sm font-medium bg-amber-100 text-amber-700" data-category="all">
                            All Events
                        </button>
                        <button onclick="filterEventCategory('tournament')" class="event-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="tournament">
                            üèÜ Tournament
                        </button>
                        <button onclick="filterEventCategory('monthly-medal')" class="event-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="monthly-medal">
                            üéñÔ∏è Monthly Medal
                        </button>
                        <button onclick="filterEventCategory('corporate')" class="event-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="corporate">
                            üè¢ Corporate
                        </button>
                        <button onclick="filterEventCategory('charity')" class="event-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="charity">
                            üíù Charity
                        </button>
                        <button onclick="filterEventCategory('junior')" class="event-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="junior">
                            üë∂ Junior
                        </button>
                    </div>
                </div>
                
                <!-- Events List -->
                <div class="p-4 space-y-4" id="eventsListContainer">
                    <div class="text-center py-8 text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-3 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <p>Loading events...</p>
                    </div>
                </div>
            </section>
            
            <!-- Event Detail Section -->
            <section id="eventDetailSection" class="hidden">
                <div class="bg-gradient-to-r from-amber-600 to-orange-500 text-white px-4 py-4">
                    <div class="flex items-center gap-3">
                        <button onclick="showEvents()" class="p-1 hover:bg-white/20 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <div>
                            <h2 class="text-xl font-bold">Event Details</h2>
                            <p class="text-amber-100 text-xs">View event information</p>
                        </div>
                    </div>
                </div>
                <div id="eventDetailContent" class="p-4">
                    <!-- Dynamic event detail -->
                </div>
            </section>
            
            <!-- Forum Section -->
            <section id="forumSection" class="hidden">
                <!-- Forum Header -->
                <div class="bg-golf-950 text-white px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold">üí¨ Golf Forum</h2>
                            <p class="text-golf-200 text-xs">Share tips & connect with golfers</p>
                        </div>
                        <button onclick="showCreatePostModal()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                            </svg>
                            Post
                        </button>
                    </div>
                </div>
                
                <!-- Category Filter -->
                <div class="px-4 py-3 bg-white border-b overflow-x-auto">
                    <div class="flex gap-2 min-w-max">
                        <button onclick="filterForumCategory('all')" class="forum-category-btn active px-4 py-2 rounded-full text-sm font-medium bg-golf-100 text-golf-700" data-category="all">
                            All
                        </button>
                        <button onclick="filterForumCategory('tips')" class="forum-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="tips">
                            üéØ Tips
                        </button>
                        <button onclick="filterForumCategory('course-review')" class="forum-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="course-review">
                            ‚≠ê Reviews
                        </button>
                        <button onclick="filterForumCategory('equipment')" class="forum-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="equipment">
                            üèåÔ∏è Equipment
                        </button>
                        <button onclick="filterForumCategory('general')" class="forum-category-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600" data-category="general">
                            üí¨ General
                        </button>
                    </div>
                </div>
                
                <!-- Posts List -->
                <div class="p-4 space-y-4" id="forumPostsContainer">
                    <!-- Dynamic posts -->
                    <div class="text-center py-8 text-gray-500">
                        <div class="text-4xl mb-2">üìù</div>
                        <p>Loading posts...</p>
                    </div>
                </div>
                
                <!-- Back Button -->
                <div class="px-4 pb-4">
                    <button onclick="showLanding()" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium">
                        ‚Üê Back to Home
                    </button>
                </div>
            </section>
            
            <!-- Step 1: Game Setup -->
            <section id="step1" class="p-4 slide-up hidden">
                <!-- Resume Game Banner -->
                <div id="resumeGameBanner" class="hidden mb-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200">
                    <div class="flex items-center gap-3">
                        <span class="text-3xl">‚è∏Ô∏è</span>
                        <div class="flex-1">
                            <h3 class="font-semibold text-amber-800">Continue Previous Game?</h3>
                            <p id="resumeGameInfo" class="text-sm text-amber-600">You have an unfinished game</p>
                        </div>
                    </div>
                    <div class="flex gap-2 mt-3">
                        <button onclick="resumeSavedGame()" class="flex-1 py-2 bg-amber-500 text-white rounded-lg font-semibold">
                            Continue Game
                        </button>
                        <button onclick="discardSavedGame()" class="flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold">
                            Start Fresh
                        </button>
                    </div>
                </div>
                
                <h2 class="text-xl font-bold text-gray-800 mb-4">üèåÔ∏è Start New Game</h2>
                
                <!-- Select Region -->
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Select Region</label>
                    <select id="regionSelect" onchange="loadCourses()" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 bg-white">
                        <option value="">-- Select Region --</option>
                    </select>
                </div>
                
                <!-- Select Course -->
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Select Golf Course</label>
                    <select id="courseSelect" onchange="selectCourse()" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 bg-white" disabled>
                        <option value="">-- Select Course --</option>
                    </select>
                </div>
                
                <!-- Course Info Card -->
                <div id="courseInfo" class="hidden mb-4 p-4 bg-golf-50 rounded-xl border border-golf-200">
                    <div class="flex items-start gap-3">
                        <span class="text-2xl">üìç</span>
                        <div>
                            <h3 id="courseName" class="font-semibold text-gray-800"></h3>
                            <p id="courseLocation" class="text-sm text-gray-600"></p>
                        </div>
                    </div>
                </div>
                
                <!-- Hole Count -->
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Number of Holes</label>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="selectHoles(9)" class="hole-btn p-4 border-2 border-gray-200 rounded-xl text-center transition hover:border-golf-500">
                            <span class="text-2xl block mb-1">9Ô∏è‚É£</span>
                            <span class="font-medium">9 Holes</span>
                        </button>
                        <button onclick="selectHoles(18)" class="hole-btn p-4 border-2 border-gray-200 rounded-xl text-center transition hover:border-golf-500">
                            <span class="text-2xl block mb-1">üîü</span>
                            <span class="font-medium">18 Holes</span>
                        </button>
                    </div>
                </div>
                
                <!-- Player Count -->
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Number of Players (1-10)</label>
                    <div class="flex items-center gap-3">
                        <button onclick="adjustPlayerCount(-1)" class="w-12 h-12 bg-gray-200 rounded-xl text-xl font-bold hover:bg-gray-300 transition">‚àí</button>
                        <span id="playerCount" class="text-2xl font-bold text-golf-700 w-8 text-center">1</span>
                        <button onclick="adjustPlayerCount(1)" class="w-12 h-12 bg-gray-200 rounded-xl text-xl font-bold hover:bg-gray-300 transition">+</button>
                    </div>
                </div>
                
                <!-- Player Names -->
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Player Details</label>
                    <div id="playerInputs" class="space-y-3">
                        <!-- Dynamic player inputs -->
                    </div>
                </div>
                
                <!-- Start Button -->
                <button onclick="startGame()" id="startBtn" class="w-full btn-primary text-white py-4 rounded-xl font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Start Game ‚õ≥
                </button>
            </section>
            
            <!-- History Section -->
            <section id="historySection" class="hidden">
                <!-- History Header -->
                <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold">üìú My History</h2>
                            <p class="text-blue-100 text-xs">Your scorecard history</p>
                        </div>
                        <button onclick="confirmClearHistory()" class="bg-white/20 hover:bg-white/30 px-3 py-2 rounded-full text-sm font-medium transition flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                            Clear All
                        </button>
                    </div>
                </div>
                
                <!-- History List -->
                <div class="p-4" id="historyContainer">
                    <div class="text-center py-8 text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-3 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p>Loading history...</p>
                    </div>
                </div>
                
                <!-- Back Button -->
                <div class="px-4 pb-4">
                    <button onclick="showLanding()" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium">
                        ‚Üê Back to Home
                    </button>
                </div>
            </section>
            
            <!-- Leaderboard Section -->
            <section id="leaderboardSection" class="hidden">
                <!-- Leaderboard Header -->
                <div class="bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold">üèÜ Leaderboard</h2>
                            <p class="text-yellow-100 text-xs">Top golfers ranked by average score</p>
                        </div>
                        <button onclick="refreshLeaderboard()" class="bg-white/20 hover:bg-white/30 px-3 py-2 rounded-full text-sm font-medium transition flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                
                <!-- Top 3 Podium -->
                <div id="leaderboardPodium" class="px-4 py-6 bg-gradient-to-b from-yellow-50 to-white">
                    <div class="flex items-end justify-center gap-4">
                        <!-- 2nd Place -->
                        <div class="flex flex-col items-center" id="podium2">
                            <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center text-xl font-bold text-white mb-2 border-4 border-gray-400">
                                2
                            </div>
                            <div class="bg-gray-300 w-20 h-16 rounded-t-lg flex flex-col items-center justify-center text-center">
                                <span class="text-xs font-semibold text-gray-700 truncate w-full px-1">-</span>
                                <span class="text-xs text-gray-600">-</span>
                            </div>
                        </div>
                        <!-- 1st Place -->
                        <div class="flex flex-col items-center" id="podium1">
                            <div class="text-2xl mb-1">üëë</div>
                            <div class="w-20 h-20 bg-yellow-400 rounded-full flex items-center justify-center text-2xl font-bold text-white mb-2 border-4 border-yellow-500 shadow-lg">
                                1
                            </div>
                            <div class="bg-yellow-400 w-24 h-20 rounded-t-lg flex flex-col items-center justify-center text-center">
                                <span class="text-xs font-bold text-yellow-900 truncate w-full px-1">-</span>
                                <span class="text-xs text-yellow-800">-</span>
                            </div>
                        </div>
                        <!-- 3rd Place -->
                        <div class="flex flex-col items-center" id="podium3">
                            <div class="w-14 h-14 bg-orange-300 rounded-full flex items-center justify-center text-lg font-bold text-white mb-2 border-4 border-orange-400">
                                3
                            </div>
                            <div class="bg-orange-300 w-18 h-12 rounded-t-lg flex flex-col items-center justify-center text-center" style="width: 72px;">
                                <span class="text-xs font-semibold text-orange-900 truncate w-full px-1">-</span>
                                <span class="text-xs text-orange-800">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Leaderboard List -->
                <div class="p-4 space-y-3" id="leaderboardContainer">
                    <div class="text-center py-8 text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-3 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        <p>Loading leaderboard...</p>
                    </div>
                </div>
                
                <!-- Back Button -->
                <div class="px-4 pb-4">
                    <button onclick="showLanding()" class="w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium">
                        ‚Üê Back to Home
                    </button>
                </div>
            </section>
            
            <!-- Step 2: Score Entry -->
            <section id="step2" class="hidden">
                <!-- Current Hole Header -->
                <div class="bg-golf-950 text-white px-4 py-3">
                    <div class="flex items-center justify-between">
                        <div>
                            <span class="text-golf-200 text-sm">Hole</span>
                            <span id="currentHoleNum" class="text-3xl font-bold ml-2">1</span>
                            <span id="currentHoleTotal" class="text-golf-200 text-sm">/ 18</span>
                        </div>
                        <div class="text-right">
                            <span class="text-golf-200 text-sm">Par</span>
                            <span id="currentHolePar" class="text-3xl font-bold ml-2">4</span>
                        </div>
                    </div>
                </div>
                
                <!-- Score Entry Cards -->
                <div id="scoreEntryContainer" class="p-4 space-y-4">
                    <!-- Dynamic score entry for each player -->
                </div>
                
                <!-- Navigation -->
                <div class="fixed bottom-0 left-0 right-0 bg-white border-t p-4 safe-area-bottom">
                    <div class="max-w-lg mx-auto flex gap-3">
                        <button onclick="prevHole()" id="prevHoleBtn" class="flex-1 py-3 bg-gray-200 rounded-xl font-medium disabled:opacity-50" disabled>
                            ‚Üê Previous
                        </button>
                        <button onclick="nextHole()" id="nextHoleBtn" class="flex-1 py-3 btn-primary text-white rounded-xl font-medium">
                            Next ‚Üí
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Step 3: Results -->
            <section id="step3" class="hidden p-4">
                <div class="text-center mb-6 slide-up">
                    <span class="text-6xl">üèÜ</span>
                    <h2 class="text-2xl font-bold text-gray-800 mt-2">Game Complete!</h2>
                    <p id="resultsSummary" class="text-gray-600 mt-1"></p>
                </div>
                
                <!-- Leaderboard -->
                <div class="bg-white rounded-xl card-shadow overflow-hidden mb-4">
                    <div class="bg-golf-950 text-white px-4 py-3">
                        <h3 class="font-semibold">üèÖ Leaderboard</h3>
                    </div>
                    <div id="leaderboard" class="divide-y">
                        <!-- Dynamic leaderboard -->
                    </div>
                </div>
                
                <!-- Detailed Scorecard -->
                <div class="bg-white rounded-xl card-shadow overflow-hidden mb-4">
                    <div class="bg-golf-800 text-white px-4 py-3 flex items-center justify-between">
                        <h3 class="font-semibold">üìä Scorecard</h3>
                        <button onclick="toggleScorecard()" class="text-sm underline">Toggle View</button>
                    </div>
                    <div id="scorecardTable" class="overflow-x-auto">
                        <!-- Dynamic scorecard table -->
                    </div>
                </div>
                
                <!-- Recommendations -->
                <div class="bg-white rounded-xl card-shadow overflow-hidden mb-4">
                    <div class="bg-blue-600 text-white px-4 py-3">
                        <h3 class="font-semibold">üí° Recommendations</h3>
                    </div>
                    <div id="recommendations" class="p-4 space-y-2 text-sm">
                        <!-- Dynamic recommendations -->
                    </div>
                </div>
                
                <!-- Photo Upload Section (Required before download) -->
                <div id="photoUploadSection" class="bg-white rounded-xl card-shadow overflow-hidden mb-4">
                    <div class="bg-purple-600 text-white px-4 py-3">
                        <h3 class="font-semibold">üì∏ Game Photo (Required)</h3>
                    </div>
                    <div class="p-4">
                        <p class="text-sm text-gray-600 mb-4">Please take or upload a photo of your game to verify your scorecard before downloading.</p>
                        
                        <!-- Photo Preview -->
                        <div id="photoPreviewContainer" class="hidden mb-4">
                            <img id="photoPreview" src="" alt="Game Photo" class="w-full h-48 object-cover rounded-xl">
                            <button onclick="removePhoto()" class="mt-2 text-red-500 text-sm flex items-center gap-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                                Remove Photo
                            </button>
                        </div>
                        
                        <!-- Photo Buttons -->
                        <div id="photoButtons" class="grid grid-cols-2 gap-3">
                            <button onclick="openCamera()" class="py-3 bg-purple-100 text-purple-700 rounded-xl font-semibold flex items-center justify-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                Take Photo
                            </button>
                            <label class="py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold flex items-center justify-center gap-2 cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                Upload Photo
                                <input type="file" id="photoUpload" accept="image/*" class="hidden" onchange="handlePhotoUpload(event)">
                            </label>
                        </div>
                        
                        <!-- Hidden camera input -->
                        <input type="file" id="cameraInput" accept="image/*" capture="environment" class="hidden" onchange="handlePhotoUpload(event)">
                    </div>
                </div>
                
                <!-- Actions -->
                <div class="space-y-3">
                    <button onclick="downloadPDF()" class="w-full py-4 btn-primary text-white rounded-xl font-semibold flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        Download PDF
                    </button>
                    <button onclick="showEmailModal()" class="w-full py-4 bg-blue-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        Send via Email
                    </button>
                    <button onclick="resetGame()" class="w-full py-4 bg-gray-200 text-gray-800 rounded-xl font-semibold">
                        Start New Game
                    </button>
                </div>
            </section>
        </main>
        
        <!-- Auth Modal -->
        <div id="authModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-md sm:rounded-xl rounded-t-3xl slide-up max-h-[90vh] overflow-y-auto">
                <!-- Modal Header -->
                <div class="sticky top-0 bg-white px-6 pt-6 pb-4 border-b">
                    <div class="flex items-center justify-between">
                        <h3 id="authModalTitle" class="text-xl font-bold text-gray-800">Login</h3>
                        <button onclick="hideAuthModal()" class="p-2 hover:bg-gray-100 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Login Form -->
                <div id="loginForm" class="p-6">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-golf-100 rounded-full mb-3">
                            <span class="text-3xl">üîê</span>
                        </div>
                        <p class="text-gray-500 text-sm">Enter your credentials to continue</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="loginEmail" placeholder="your@email.com" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <div class="relative">
                                <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" 
                                       class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 pr-12">
                                <button type="button" onclick="togglePassword('loginPassword')" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <button onclick="handleLogin()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                            Login
                        </button>
                        
                        <div class="text-center">
                            <button onclick="showForgotPassword()" class="text-golf-600 text-sm font-medium hover:underline">
                                Forgot Password?
                            </button>
                        </div>
                        
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-200"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-2 bg-white text-gray-500">or</span>
                            </div>
                        </div>
                        
                        <p class="text-center text-gray-600 text-sm">
                            Don't have an account? 
                            <button onclick="showRegisterForm()" class="text-golf-600 font-semibold hover:underline">Register</button>
                        </p>
                    </div>
                </div>
                
                <!-- Register Form -->
                <div id="registerForm" class="p-6 hidden">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-golf-100 rounded-full mb-3">
                            <span class="text-3xl">üìù</span>
                        </div>
                        <p class="text-gray-500 text-sm">Create your account to get started</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <input type="text" id="registerName" placeholder="John Doe" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                            <input type="text" id="registerUsername" placeholder="johndoe123" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0"
                                   pattern="[a-zA-Z0-9_]+" minlength="3" maxlength="30">
                            <p class="text-xs text-gray-500 mt-1">Min 3 characters. Letters, numbers, underscore only.</p>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Student ID (ITB)</label>
                            <input type="text" id="registerStudentId" placeholder="13520123" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0"
                                   maxlength="20">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="registerEmail" placeholder="your@gmail.com or your@itb.ac.id" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                            <p class="text-xs text-gray-500 mt-1">Only Gmail and ITB email allowed.</p>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                            <input type="tel" id="registerPhone" placeholder="+62 812 3456 7890" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <div class="relative">
                                <input type="password" id="registerPassword" placeholder="Min. 8 characters" 
                                       class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 pr-12"
                                       oninput="updatePasswordChecklist()">
                                <button type="button" onclick="togglePassword('registerPassword')" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                            <!-- Password Checklist -->
                            <div id="passwordChecklist" class="mt-2 text-xs space-y-1">
                                <div id="check-length" class="flex items-center gap-2 text-gray-400">
                                    <span class="check-icon">‚óã</span> At least 8 characters
                                </div>
                                <div id="check-uppercase" class="flex items-center gap-2 text-gray-400">
                                    <span class="check-icon">‚óã</span> One uppercase letter (A-Z)
                                </div>
                                <div id="check-lowercase" class="flex items-center gap-2 text-gray-400">
                                    <span class="check-icon">‚óã</span> One lowercase letter (a-z)
                                </div>
                                <div id="check-number" class="flex items-center gap-2 text-gray-400">
                                    <span class="check-icon">‚óã</span> One number (0-9)
                                </div>
                                <div id="check-special" class="flex items-center gap-2 text-gray-400">
                                    <span class="check-icon">‚óã</span> One special character (!@#$%^&*)
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                            <input type="password" id="registerConfirmPassword" placeholder="Confirm password" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0"
                                   oninput="updatePasswordMatch()">
                            <p id="passwordMatchStatus" class="text-xs mt-1 hidden"></p>
                        </div>
                        
                        <button onclick="handleRegister()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                            Create Account
                        </button>
                        
                        <p class="text-center text-gray-600 text-sm">
                            Already have an account? 
                            <button onclick="showLoginForm()" class="text-golf-600 font-semibold hover:underline">Login</button>
                        </p>
                    </div>
                </div>
                
                <!-- OTP Verification Form -->
                <div id="otpForm" class="p-6 hidden">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-golf-100 rounded-full mb-3">
                            <span class="text-3xl">üìß</span>
                        </div>
                        <h4 class="font-semibold text-gray-800 mb-1">Check your email</h4>
                        <p class="text-gray-500 text-sm">We sent a verification code to</p>
                        <p id="otpEmail" class="text-golf-600 font-medium text-sm">email@example.com</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 text-center">Enter OTP Code</label>
                            <div class="flex justify-center gap-2">
                                <input type="text" maxlength="1" class="otp-input w-12 h-14 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" data-index="0" oninput="handleOtpInput(this)" onkeydown="handleOtpKeydown(event, this)">
                                <input type="text" maxlength="1" class="otp-input w-12 h-14 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" data-index="1" oninput="handleOtpInput(this)" onkeydown="handleOtpKeydown(event, this)">
                                <input type="text" maxlength="1" class="otp-input w-12 h-14 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" data-index="2" oninput="handleOtpInput(this)" onkeydown="handleOtpKeydown(event, this)">
                                <input type="text" maxlength="1" class="otp-input w-12 h-14 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" data-index="3" oninput="handleOtpInput(this)" onkeydown="handleOtpKeydown(event, this)">
                                <input type="text" maxlength="1" class="otp-input w-12 h-14 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" data-index="4" oninput="handleOtpInput(this)" onkeydown="handleOtpKeydown(event, this)">
                                <input type="text" maxlength="1" class="otp-input w-12 h-14 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0" data-index="5" oninput="handleOtpInput(this)" onkeydown="handleOtpKeydown(event, this)">
                            </div>
                        </div>
                        
                        <button id="verifyOtpBtn" onclick="handleVerifyOtp()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                            Verify
                        </button>
                        
                        <div class="text-center">
                            <p class="text-gray-500 text-sm mb-2">Didn't receive the code?</p>
                            <button id="resendOtpBtn" onclick="handleResendOtp()" class="text-golf-600 font-medium text-sm hover:underline">
                                Resend OTP
                            </button>
                            <span id="resendTimer" class="text-gray-400 text-sm hidden"> (60s)</span>
                        </div>
                    </div>
                </div>
                
                <!-- Forgot Password Form -->
                <div id="forgotPasswordForm" class="p-6 hidden">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-3">
                            <span class="text-3xl">üîë</span>
                        </div>
                        <h4 class="font-semibold text-gray-800 mb-1">Forgot Password?</h4>
                        <p class="text-gray-500 text-sm">Enter your email to reset your password</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="forgotEmail" placeholder="your@email.com" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                        </div>
                        
                        <button onclick="handleForgotPassword()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                            Send Reset Code
                        </button>
                        
                        <p class="text-center text-gray-600 text-sm">
                            Remember your password? 
                            <button onclick="showLoginForm()" class="text-golf-600 font-semibold hover:underline">Login</button>
                        </p>
                    </div>
                </div>
                
                <!-- Reset Password Form -->
                <div id="resetPasswordForm" class="p-6 hidden">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-3">
                            <span class="text-3xl">üîí</span>
                        </div>
                        <h4 class="font-semibold text-gray-800 mb-1">Create New Password</h4>
                        <p class="text-gray-500 text-sm">Your new password must be different from previous</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
                            <div class="relative">
                                <input type="password" id="newPassword" placeholder="Min. 6 characters" 
                                       class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 pr-12">
                                <button type="button" onclick="togglePassword('newPassword')" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Confirm New Password</label>
                            <input type="password" id="confirmNewPassword" placeholder="Confirm password" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                        </div>
                        
                        <button onclick="handleResetPassword()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                            Reset Password
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Edit Profile Modal -->
        <div id="editProfileModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-lg sm:rounded-xl rounded-t-3xl slide-up max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white px-6 pt-6 pb-4 border-b z-10">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-gray-800">‚úèÔ∏è Edit Profile</h3>
                        <button onclick="hideEditProfileModal()" class="p-2 hover:bg-gray-100 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="p-6 space-y-4">
                    <!-- Avatar Selection -->
                    <div class="text-center">
                        <div id="editProfileAvatar" class="w-20 h-20 bg-gradient-to-br from-golf-400 to-golf-600 rounded-full flex items-center justify-center text-3xl font-bold text-white mx-auto mb-2">
                            U
                        </div>
                        <p class="text-xs text-gray-500">Avatar shows your name initial</p>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Full Name *</label>
                        <input type="text" id="editProfileName" placeholder="Your full name" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="editProfilePhone" placeholder="e.g., 08123456789" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
                        <input type="text" id="editProfileCity" placeholder="e.g., Jakarta" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Handicap Index</label>
                        <input type="number" id="editProfileHandicap" placeholder="e.g., 18.5" step="0.1" min="0" max="54"
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Home Course</label>
                        <select id="editProfileHomeCourse" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 bg-white">
                            <option value="">-- Select your home course --</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Bio</label>
                        <textarea id="editProfileBio" rows="3" placeholder="Tell us about your golf journey..."
                                  class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 resize-none"></textarea>
                    </div>
                    
                    <button onclick="saveProfile()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                        Save Changes
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Change Password Modal -->
        <div id="changePasswordModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-md sm:rounded-xl rounded-t-3xl p-6 slide-up">
                <h3 class="text-lg font-bold text-gray-800 mb-4">üîí Change Password</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Current Password</label>
                        <input type="password" id="currentPassword" placeholder="Enter current password" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
                        <input type="password" id="newPassword" placeholder="Enter new password" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Confirm New Password</label>
                        <input type="password" id="confirmNewPassword" placeholder="Confirm new password" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                </div>
                
                <div class="flex gap-3 mt-6">
                    <button onclick="hideChangePasswordModal()" class="flex-1 py-3 bg-gray-200 rounded-xl font-medium">Cancel</button>
                    <button onclick="changePassword()" class="flex-1 py-3 btn-primary text-white rounded-xl font-medium">Change</button>
                </div>
            </div>
        </div>
        
        <!-- Create Event Modal -->
        <div id="createEventModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-lg sm:rounded-xl rounded-t-3xl slide-up max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white px-6 pt-6 pb-4 border-b z-10">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-gray-800">üìÖ Create Event</h3>
                        <button onclick="hideCreateEventModal()" class="p-2 hover:bg-gray-100 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="p-6 space-y-4">
                    <!-- Event Template Selection -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Use Template (Optional)</label>
                        <select id="eventTemplate" onchange="applyEventTemplate()" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0 bg-white">
                            <option value="">-- Select a template --</option>
                        </select>
                    </div>
                    
                    <div class="border-t pt-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Event Title *</label>
                        <input type="text" id="eventTitle" placeholder="e.g., Monthly Medal January 2025" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Category *</label>
                        <select id="eventCategory" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0 bg-white">
                            <option value="tournament">üèÜ Tournament</option>
                            <option value="monthly-medal">üéñÔ∏è Monthly Medal</option>
                            <option value="corporate">üè¢ Corporate Outing</option>
                            <option value="charity">üíù Charity Golf</option>
                            <option value="junior">üë∂ Junior Clinic</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                        <textarea id="eventDescription" rows="3" placeholder="Describe your event..."
                                  class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0 resize-none"></textarea>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Event Date *</label>
                            <input type="date" id="eventDate" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Start Time *</label>
                            <input type="time" id="eventTime" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Venue/Course *</label>
                        <input type="text" id="eventVenue" placeholder="e.g., Pondok Indah Golf Course" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Max Participants</label>
                            <input type="number" id="eventMaxParticipants" placeholder="e.g., 72" min="1"
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Entry Fee</label>
                            <input type="text" id="eventFee" placeholder="e.g., Rp 500.000" 
                                   class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Contact Person</label>
                        <input type="text" id="eventContact" placeholder="Name & phone number" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Registration Deadline</label>
                        <input type="date" id="eventRegDeadline" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-0">
                    </div>
                    
                    <button onclick="submitEvent()" class="w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white rounded-xl font-semibold transition">
                        Create Event
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Create Post Modal -->
        <div id="createPostModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-lg sm:rounded-xl rounded-t-3xl slide-up max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white px-6 pt-6 pb-4 border-b">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-gray-800">üìù Create Post</h3>
                        <button onclick="hideCreatePostModal()" class="p-2 hover:bg-gray-100 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                        <select id="postCategory" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 bg-white">
                            <option value="general">üí¨ General Discussion</option>
                            <option value="tips">üéØ Tips & Tricks</option>
                            <option value="course-review">‚≠ê Course Review</option>
                            <option value="equipment">üèåÔ∏è Equipment</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                        <input type="text" id="postTitle" placeholder="What's on your mind?" 
                               class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Content</label>
                        <textarea id="postContent" rows="5" placeholder="Share your thoughts, tips, or experiences..."
                                  class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 resize-none"></textarea>
                    </div>
                    <button onclick="submitForumPost()" class="w-full py-3 btn-primary text-white rounded-xl font-semibold">
                        Post to Forum
                    </button>
                </div>
            </div>
        </div>
        
        <!-- View Post Modal -->
        <div id="viewPostModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-lg sm:rounded-xl rounded-t-3xl slide-up max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white px-6 pt-6 pb-4 border-b z-10">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-bold text-gray-800">Post Details</h3>
                        <button onclick="hideViewPostModal()" class="p-2 hover:bg-gray-100 rounded-full transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div id="viewPostContent" class="p-6">
                    <!-- Dynamic post content -->
                </div>
                
                <!-- Comment Input -->
                <div class="sticky bottom-0 bg-white border-t p-4">
                    <div class="flex gap-2">
                        <input type="text" id="commentInput" placeholder="Write a comment..." 
                               class="flex-1 p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0">
                        <button onclick="submitComment()" class="px-4 py-3 btn-primary text-white rounded-xl font-medium">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Email Modal -->
        <div id="emailModal" class="fixed inset-0 bg-black/50 modal-backdrop z-50 hidden flex items-end sm:items-center justify-center">
            <div class="bg-white w-full sm:max-w-md sm:rounded-xl rounded-t-3xl p-6 slide-up">
                <h3 class="text-lg font-bold text-gray-800 mb-4">üìß Send Scorecard via Email</h3>
                <input type="email" id="emailInput" placeholder="Enter email address" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-golf-500 focus:ring-0 mb-4">
                <div class="flex gap-3">
                    <button onclick="hideEmailModal()" class="flex-1 py-3 bg-gray-200 rounded-xl font-medium">Cancel</button>
                    <button onclick="sendEmail()" class="flex-1 py-3 btn-primary text-white rounded-xl font-medium">Send</button>
                </div>
            </div>
        </div>
        
        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="fixed inset-0 bg-white/80 modal-backdrop z-50 hidden flex items-center justify-center">
            <div class="text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-4 border-golf-500 border-t-transparent mx-auto"></div>
                <p class="mt-4 text-gray-600 font-medium">Loading...</p>
            </div>
        </div>
        
        <!-- Toast Notification -->
        <div id="toast" class="fixed bottom-20 left-4 right-4 max-w-lg mx-auto bg-gray-800 text-white px-4 py-3 rounded-xl shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-50">
            <span id="toastMessage"></span>
        </div>
    </div>
    
    <!-- Application JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
